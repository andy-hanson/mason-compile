{"version":3,"sources":["private/transpile/transpileDo.js"],"names":[],"mappings":"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","file":"private/transpile/transpileDo.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Expression', 'esast/lib/Literal', 'esast/lib/Statement', '../ast/Await', '../ast/booleans', '../ast/BuildEntry', '../ast/Call', '../ast/Case', '../ast/Class', '../ast/Del', '../ast/Do', '../ast/errors', '../ast/locals', '../ast/Loop', '../ast/Switch', '../ast/Trait', '../ast/With', '../ast/YieldLike', './ms', './transpileAwait', './transpileBooleans', './transpileBuildEntry', './transpileCall', './transpileCase', './transpileClass', './transpileDel', './transpileErrors', './transpileLocals', './transpileLoop', './transpileMemberName', './transpileSwitch', './transpileTrait', './transpileVal', './transpileWith', './transpileYieldLike', './util'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Expression_1 = require('esast/lib/Expression');\n    const Literal_1 = require('esast/lib/Literal');\n    const Statement_1 = require('esast/lib/Statement');\n    const Await_1 = require('../ast/Await');\n    const booleans_1 = require('../ast/booleans');\n    const BuildEntry_1 = require('../ast/BuildEntry');\n    const Call_1 = require('../ast/Call');\n    const Case_1 = require('../ast/Case');\n    const Class_1 = require('../ast/Class');\n    const Del_1 = require('../ast/Del');\n    const Do_1 = require('../ast/Do');\n    const errors_1 = require('../ast/errors');\n    const locals_1 = require('../ast/locals');\n    const Loop_1 = require('../ast/Loop');\n    const Switch_1 = require('../ast/Switch');\n    const Trait_1 = require('../ast/Trait');\n    const With_1 = require('../ast/With');\n    const YieldLike_1 = require('../ast/YieldLike');\n    const ms_1 = require('./ms');\n    const transpileAwait_1 = require('./transpileAwait');\n    const transpileBooleans_1 = require('./transpileBooleans');\n    const transpileBuildEntry_1 = require('./transpileBuildEntry');\n    const transpileCall_1 = require('./transpileCall');\n    const transpileCase_1 = require('./transpileCase');\n    const transpileClass_1 = require('./transpileClass');\n    const transpileDel_1 = require('./transpileDel');\n    const transpileErrors_1 = require('./transpileErrors');\n    const transpileLocals_1 = require('./transpileLocals');\n    const transpileLoop_1 = require('./transpileLoop');\n    const transpileMemberName_1 = require('./transpileMemberName');\n    const transpileSwitch_1 = require('./transpileSwitch');\n    const transpileTrait_1 = require('./transpileTrait');\n    const transpileVal_1 = require('./transpileVal');\n    const transpileWith_1 = require('./transpileWith');\n    const transpileYieldLike_1 = require('./transpileYieldLike');\n    const util_1 = require('./util');\n    function transpileDo(_) {\n        const ast = transpileDoNoLoc(_);\n        if (ast instanceof Array)\n            for (const part of ast)\n                part.loc = _.loc;\n        else\n            ast.loc = _.loc;\n        return ast;\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = transpileDo;\n    function transpileDoNoLoc(_) {\n        if (_ instanceof errors_1.Assert)\n            return transpileErrors_1.transpileAssertNoLoc(_);\n        else if (_ instanceof locals_1.Assign)\n            return transpileLocals_1.transpileAssignNoLoc(_);\n        else if (_ instanceof Await_1.default)\n            return new Statement_1.ExpressionStatement(transpileAwait_1.transpileAwaitNoLoc(_));\n        else if (_ instanceof BuildEntry_1.default)\n            return transpileBuildEntry_1.transpileBuildEntryNoLoc(_);\n        else if (_ instanceof Loop_1.Break)\n            return transpileLoop_1.transpileBreakNoLoc(_);\n        else if (_ instanceof Call_1.default)\n            return new Statement_1.ExpressionStatement(transpileCall_1.transpileCallNoLoc(_));\n        else if (_ instanceof Case_1.default)\n            return transpileCase_1.transpileCaseDoNoLoc(_);\n        else if (_ instanceof booleans_1.Cond)\n            return new Statement_1.ExpressionStatement(transpileBooleans_1.transpileCondNoLoc(_));\n        else if (_ instanceof booleans_1.Conditional)\n            return transpileBooleans_1.transpileConditionalDoNoLoc(_);\n        else if (_ instanceof Del_1.default)\n            return new Statement_1.ExpressionStatement(transpileDel_1.transpileDelNoLoc(_));\n        else if (_ instanceof errors_1.Except)\n            return transpileErrors_1.transpileExceptDoNoLoc(_);\n        else if (_ instanceof Loop_1.For)\n            return transpileLoop_1.transpileForDoNoLoc(_);\n        else if (_ instanceof Loop_1.ForAsync)\n            return transpileLoop_1.transpileForAsyncDoNoLoc(_);\n        else if (_ instanceof Do_1.Ignore)\n            return [];\n        else if (_ instanceof locals_1.LocalMutate)\n            return transpileLocals_1.transpileLocalMutateNoLoc(_);\n        else if (_ instanceof Do_1.MemberSet) {\n            const { object, name, opType, kind, value } = _;\n            const obj = transpileVal_1.default(object);\n            const strName = typeof name === 'string' ? name : '<computed member>';\n            const val = util_1.maybeWrapInCheckInstance(transpileVal_1.default(value), opType, strName);\n            return new Statement_1.ExpressionStatement((() => {\n                switch (kind) {\n                    case 0:\n                        return ms_1.msCall('newProperty', obj, transpileMemberName_1.default(name), val);\n                    case 1:\n                        return new Expression_1.AssignmentExpression('=', transpileMemberName_1.transpileMember(obj, name), val);\n                    default:\n                        throw new Error();\n                }\n            })());\n        }\n        else if (_ instanceof Do_1.Pass) {\n            return new Statement_1.ExpressionStatement(transpileVal_1.default(_.ignored));\n        }\n        else if (_ instanceof Do_1.SetSub) {\n            const { object, subbeds, kind, opType, value } = _;\n            const kindStr = (() => {\n                switch (kind) {\n                    case 0:\n                        return 'init';\n                    case 1:\n                        return 'mutate';\n                    default:\n                        throw new Error();\n                }\n            })();\n            return new Statement_1.ExpressionStatement(ms_1.msCall('setSub', transpileVal_1.default(object), subbeds.length === 1 ? transpileVal_1.default(subbeds[0]) : new Expression_1.ArrayExpression(subbeds.map(transpileVal_1.default)), util_1.maybeWrapInCheckInstance(transpileVal_1.default(value), opType, 'value'), new Literal_1.LiteralString(kindStr)));\n        }\n        else if (_ instanceof Do_1.SpecialDo)\n            switch (_.kind) {\n                case 0:\n                    return new Statement_1.DebuggerStatement();\n                default:\n                    throw new Error(String(_.kind));\n            }\n        else if (_ instanceof Class_1.SuperCall)\n            return transpileClass_1.transpileSuperCallDoNoLoc(_);\n        else if (_ instanceof Switch_1.default)\n            return transpileSwitch_1.transpileSwitchDoNoLoc(_);\n        else if (_ instanceof errors_1.Throw) {\n            return transpileErrors_1.transpileThrowNoLoc(_);\n        }\n        else if (_ instanceof Trait_1.TraitDo)\n            return transpileTrait_1.transpileTraitDoNoLoc(_);\n        else if (_ instanceof With_1.default)\n            return transpileWith_1.transpileWithDoNoLoc(_);\n        else if (_ instanceof YieldLike_1.default)\n            return new Statement_1.ExpressionStatement(transpileYieldLike_1.transpileYieldLikeNoLoc(_));\n        else\n            throw new Error(_.constructor.name);\n    }\n});\n"],"sourceRoot":"/source/"}