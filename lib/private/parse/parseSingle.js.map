{"version":3,"sources":["private/parse/parseSingle.js"],"names":[],"mappings":"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","file":"private/parse/parseSingle.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'op/Op', '../ast/locals', '../ast/Val', '../context', '../token/Group', '../token/Keyword', '../token/Token', './checks', './parseBlock', './parseExpr', './parseQuote', './parseSpaced', './Slice'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Op_1 = require('op/Op');\n    const locals_1 = require('../ast/locals');\n    const Val_1 = require('../ast/Val');\n    const context_1 = require('../context');\n    const Group_1 = require('../token/Group');\n    const Keyword_1 = require('../token/Keyword');\n    const Token_1 = require('../token/Token');\n    const checks_1 = require('./checks');\n    const parseBlock_1 = require('./parseBlock');\n    const parseExpr_1 = require('./parseExpr');\n    const parseQuote_1 = require('./parseQuote');\n    const parseSpaced_1 = require('./parseSpaced');\n    const Slice_1 = require('./Slice');\n    function parseSingle(token, isInSpaced = false) {\n        const { loc } = token;\n        if (token instanceof Token_1.NameToken)\n            return new locals_1.LocalAccess(loc, token.name);\n        else if (token instanceof Group_1.default) {\n            if (token instanceof Group_1.GroupSpace)\n                return parseSpaced_1.default(Slice_1.Tokens.of(token));\n            else if (token instanceof Group_1.GroupParenthesis) {\n                const slice = Slice_1.Tokens.of(token);\n                if (slice.size() === 1 && !isInSpaced)\n                    context_1.warn(slice.loc, _ => _.extraParens);\n                return parseExpr_1.default(slice);\n            }\n            else if (token instanceof Group_1.GroupBracket)\n                return new Val_1.BagSimple(loc, parseExpr_1.parseExprParts(Slice_1.Tokens.of(token)));\n            else if (token instanceof Group_1.GroupBlock)\n                return parseBlock_1.parseBlockWrap(Slice_1.Lines.of(token));\n            else if (token instanceof Group_1.GroupQuote)\n                return parseQuote_1.default(Slice_1.default.of(token));\n            else if (token instanceof Group_1.GroupRegExp)\n                return parseQuote_1.parseRegExp(Slice_1.default.of(token), token.flags);\n            else\n                throw new Error(String(token.type));\n        }\n        else if (token instanceof Token_1.NumberToken)\n            return new Val_1.NumberLiteral(token.loc, token.value);\n        else if (token instanceof Keyword_1.default)\n            switch (token.kind) {\n                case 109:\n                    return locals_1.LocalAccess.focus(loc);\n                default:\n                    return Op_1.orThrow(Op_1.opMap(Keyword_1.opKeywordKindToSpecialValueKind(token.kind), _ => new Val_1.SpecialVal(loc, _)), () => checks_1.unexpected(token));\n            }\n        else\n            throw checks_1.unexpected(token);\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = parseSingle;\n});\n"],"sourceRoot":"/source/"}