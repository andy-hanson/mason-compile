{"version":3,"sources":["private/lex/sourceContext.js"],"names":[],"mappings":"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","file":"private/lex/sourceContext.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Loc', '../util'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    const Loc_1 = require('esast/lib/Loc');\n    const util_1 = require('../util');\n    function setupSourceContext(source) {\n        exports.sourceString = source;\n        exports.index = 0;\n        exports.line = Loc_1.Pos.start.line;\n        exports.column = Loc_1.Pos.start.column;\n    }\n    exports.setupSourceContext = setupSourceContext;\n    function pos() {\n        return new Loc_1.Pos(exports.line, exports.column);\n    }\n    exports.pos = pos;\n    function peek(n = 0) {\n        return exports.sourceString.charCodeAt(exports.index + n);\n    }\n    exports.peek = peek;\n    function eat() {\n        const char = exports.sourceString.charCodeAt(exports.index);\n        skip();\n        return char;\n    }\n    exports.eat = eat;\n    function skip(n = 1) {\n        exports.index = exports.index + n;\n        exports.column = exports.column + n;\n    }\n    exports.skip = skip;\n    function tryEat(charToEat) {\n        return tryEatIf(_ => _ === charToEat);\n    }\n    exports.tryEat = tryEat;\n    function tryEatIf(pred) {\n        const canEat = pred(peek());\n        if (canEat)\n            skip();\n        return canEat;\n    }\n    exports.tryEatIf = tryEatIf;\n    function tryEat2(char1, char2) {\n        const canEat = peek() === char1 && peek(1) === char2;\n        if (canEat)\n            skip(2);\n        return canEat;\n    }\n    exports.tryEat2 = tryEat2;\n    function tryEatNewline() {\n        const canEat = peek() === 10;\n        if (canEat) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n            exports.column = Loc_1.Pos.start.column;\n        }\n        return canEat;\n    }\n    exports.tryEatNewline = tryEatNewline;\n    function stepBackMany(oldPos, nCharsToBackUp) {\n        exports.index = exports.index - nCharsToBackUp;\n        exports.line = oldPos.line;\n        exports.column = oldPos.column;\n    }\n    exports.stepBackMany = stepBackMany;\n    function skipRestOfLine() {\n        skipUntilRegExp(lineFeedRgx);\n    }\n    exports.skipRestOfLine = skipRestOfLine;\n    const lineFeedRgx = /\\n/g;\n    function takeRestOfLine() {\n        return takeUntilRegExp(lineFeedRgx);\n    }\n    exports.takeRestOfLine = takeRestOfLine;\n    function skipUntilRegExp(rgx) {\n        const startIndex = exports.index;\n        rgx.lastIndex = startIndex;\n        exports.index = rgx.exec(exports.sourceString).index;\n        util_1.assert(exports.index !== null);\n        const diff = exports.index - startIndex;\n        exports.column = exports.column + diff;\n        return diff;\n    }\n    function takeUntilRegExp(rgx) {\n        const startIndex = exports.index;\n        skipUntilRegExp(rgx);\n        return exports.sourceString.slice(startIndex, exports.index);\n    }\n    function takeName() {\n        const startIndex = exports.index - 1;\n        skipUntilRegExp(nameRgx);\n        return exports.sourceString.slice(startIndex, exports.index);\n    }\n    exports.takeName = takeName;\n    const nameRgx = /[`&\\(\\)\\[\\]\\{\\}|:'\". \\n\\t#^\\\\;,]/g;\n    function isNameCharacter(ch) {\n        return isAllNameCharacters(String.fromCharCode(ch));\n    }\n    exports.isNameCharacter = isNameCharacter;\n    function isAllNameCharacters(str) {\n        nameRgx.lastIndex = 0;\n        return !nameRgx.test(str);\n    }\n    exports.isAllNameCharacters = isAllNameCharacters;\n    function skipSpaces() {\n        return skipUntilRegExp(spacesRgx);\n    }\n    exports.skipSpaces = skipSpaces;\n    const spacesRgx = /[^ ]/g;\n    function skipTabs() {\n        return skipUntilRegExp(tabsRgx);\n    }\n    exports.skipTabs = skipTabs;\n    const tabsRgx = /[^\\t]/g;\n    function skipNumBinary() {\n        skipUntilRegExp(binRgx);\n    }\n    exports.skipNumBinary = skipNumBinary;\n    const binRgx = /[^01]/g;\n    function skipNumOctal() {\n        skipUntilRegExp(octRgx);\n    }\n    exports.skipNumOctal = skipNumOctal;\n    const octRgx = /[^0-8]/g;\n    function skipNumHex() {\n        skipUntilRegExp(hexRgx);\n    }\n    exports.skipNumHex = skipNumHex;\n    const hexRgx = /[^\\da-f]/g;\n    function skipNumDecimal() {\n        skipUntilRegExp(decRgx);\n    }\n    exports.skipNumDecimal = skipNumDecimal;\n    const decRgx = /[^\\d]/g;\n    function isDigitDecimal(_) {\n        return 48 <= _ && _ <= 57;\n    }\n    exports.isDigitDecimal = isDigitDecimal;\n    function skipNewlines() {\n        const startLine = exports.line;\n        exports.line = exports.line + 1;\n        while (peek() === 10) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n        }\n        exports.column = Loc_1.Pos.start.column;\n        return exports.line - startLine;\n    }\n    exports.skipNewlines = skipNewlines;\n});\n"],"sourceRoot":"/source/"}