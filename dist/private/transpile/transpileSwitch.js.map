{"version":3,"sources":["private/transpile/transpileSwitch.js"],"names":[],"mappings":"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","file":"private/transpile/transpileSwitch.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Statement', 'op/Op', '../util', './context', './transpileBlock', './transpileVal', './util', './util2'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Statement_1 = require('esast/lib/Statement');\n    var Op_1 = require('op/Op');\n    var util_1 = require('../util');\n    var context_1 = require('./context');\n    var transpileBlock_1 = require('./transpileBlock');\n    var transpileVal_1 = require('./transpileVal');\n    var util_2 = require('./util');\n    var util2_1 = require('./util2');\n    function transpileSwitchValNoLoc(_) {\n        return util_2.blockWrapStatement(transpileSwitchDoNoLoc(_));\n    }\n    exports.transpileSwitchValNoLoc = transpileSwitchValNoLoc;\n    function transpileSwitchDoNoLoc({ switched, parts, opElse }) {\n        const partAsts = util_1.flatMap(parts, transpileSwitchPart);\n        partAsts.push(Op_1.caseOp(opElse, _ => new Statement_1.SwitchCase(null, transpileBlock_1.default(_).body), () => SwitchCaseNoMatch));\n        return new Statement_1.SwitchStatement(transpileVal_1.default(switched), partAsts);\n    }\n    exports.transpileSwitchDoNoLoc = transpileSwitchDoNoLoc;\n    function transpileSwitchPart(_) {\n        const { values, result } = _;\n        const follow = Op_1.opIf(context_1.verifyResults.isStatement(_), () => new Statement_1.BreakStatement);\n        const block = transpileBlock_1.default(result, null, null, follow);\n        const cases = [];\n        for (let i = 0; i < values.length - 1; i = i + 1)\n            cases.push(util_2.loc(_, new Statement_1.SwitchCase(transpileVal_1.default(values[i]), [])));\n        cases.push(util_2.loc(_, new Statement_1.SwitchCase(transpileVal_1.default(values[values.length - 1]), [block])));\n        return cases;\n    }\n    const SwitchCaseNoMatch = new Statement_1.SwitchCase(null, [\n        util2_1.throwErrorFromString('No branch of `switch` matches.')]);\n});\n"],"sourceRoot":"/source/"}