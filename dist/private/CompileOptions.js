if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'module', './util'], function (exports, module, _util) {
	'use strict';

	class CompileOptions {
		constructor(opts) {
			// TODO:ES6 Optional arguments
			if (opts === undefined) opts = {};
			(0, _util.type)(opts, Object);

			const defaultTo = (name, _default) => {
				const _ = opts[name];
				if (_ === undefined) return _default;else {
					(0, _util.type)(_, _default.constructor);
					return _;
				}
			};

			const define = (name, _default) => {
				this[`_${ name }`] = defaultTo(name, _default);
			};

			const defaults = {
				includeAmdefine: true,
				includeSourceMap: true,
				includeModuleName: true,
				forceNonLazyModule: false,
				useStrict: true,
				checks: true,
				'warn-as-error': false,
				useBoot: true,
				mslPath: 'msl'
			};

			for (const _ in defaults) define(_, defaults[_]);

			this._inFile = opts.inFile;

			if (this._inFile === undefined) {
				if (this._includeSourceMap) throw new Error('Either supply `inFile` option or make `includeSourceMap` false.');
				if (this._includeModuleName) throw new Error('Either supply `inFile` option or make `includeModuleName` false.');
			} else (0, _util.type)(this._inFile, String);
		}

		moduleName() {
			return this._inFile === undefined ? 'anonymous' : noExt(basename(this._inFile));
		}

		jsBaseName() {
			return `${ this.moduleName() }.js`;
		}
		modulePath() {
			return this._inFile;
		}

		includeChecks() {
			return this._checks;
		}

		warnAsError() {
			return this['_warn-as-error'];
		}

		includeAmdefine() {
			return this._includeAmdefine;
		}
		includeSourceMap() {
			return this._includeSourceMap;
		}
		includeModuleName() {
			return this._includeModuleName;
		}
		includeUseStrict() {
			return this._useStrict;
		}

		lazyModule() {
			return !this._forceNonLazyModule;
		}

		useBoot() {
			return this._useBoot;
		}
		bootPath() {
			return `${ this._mslPath }/private/boot`;
		}
	}

	module.exports = CompileOptions;

	const basename = path => (0, _util.last)(path.split('/')),
	      extname = path => (0, _util.last)(path.split('.')),
	      noExt = path =>
	// - 1 for the '.'
	path.substring(0, path.length - 1 - extname(path).length);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbXBpbGVPcHRpb25zLmpzIiwicHJpdmF0ZS9Db21waWxlT3B0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRWUsT0FBTSxjQUFjLENBQUM7QUFDbkMsYUFBVyxDQUFDLElBQUksRUFBRTs7QUFFakIsT0FBSSxJQUFJLEtBQUssU0FBUyxFQUFFLElBQUksR0FBRyxFQUFHLENBQUE7QUFDbEMsYUFOYSxJQUFJLEVBTVosSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFBOztBQUVsQixTQUFNLFNBQVMsR0FBRyxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7QUFDckMsVUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3BCLFFBQUksQ0FBQyxLQUFLLFNBQVMsRUFDbEIsT0FBTyxRQUFRLENBQUEsS0FDWDtBQUNKLGVBYlcsSUFBSSxFQWFWLENBQUMsRUFBRSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDN0IsWUFBTyxDQUFDLENBQUE7S0FDUjtJQUNELENBQUE7O0FBRUQsU0FBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO0FBQ2xDLFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUM1QyxDQUFBOztBQUVELFNBQU0sUUFBUSxHQUFHO0FBQ2hCLG1CQUFlLEVBQUUsSUFBSTtBQUNyQixvQkFBZ0IsRUFBRSxJQUFJO0FBQ3RCLHFCQUFpQixFQUFFLElBQUk7QUFDdkIsc0JBQWtCLEVBQUUsS0FBSztBQUN6QixhQUFTLEVBQUUsSUFBSTtBQUNmLFVBQU0sRUFBRSxJQUFJO0FBQ1osbUJBQWUsRUFBRSxLQUFLO0FBQ3RCLFdBQU8sRUFBRSxJQUFJO0FBQ2IsV0FBTyxFQUFFLEtBQUs7SUFDZCxDQUFBOztBQUVELFFBQUssTUFBTSxDQUFDLElBQUksUUFBUSxFQUN2QixNQUFNLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBOztBQUV2QixPQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7O0FBRTFCLE9BQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxTQUFTLEVBQUU7QUFDL0IsUUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUVBQWlFLENBQUMsQ0FBQTtBQUNuRixRQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxrRUFBa0UsQ0FBQyxDQUFBO0lBQ3BGLE1BQ0EsVUE3Q1ksSUFBSSxFQTZDWCxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0dBQzNCOztBQUVELFlBQVUsR0FBRztBQUNaLFVBQU8sSUFBSSxDQUFDLE9BQU8sS0FBSyxTQUFTLEdBQUcsV0FBVyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7R0FDL0U7O0FBRUQsWUFBVSxHQUFHO0FBQUUsVUFBTyxDQUFDLEdBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFDLEdBQUcsQ0FBQyxDQUFBO0dBQUU7QUFDakQsWUFBVSxHQUFHO0FBQUUsVUFBTyxJQUFJLENBQUMsT0FBTyxDQUFBO0dBQUU7O0FBRXBDLGVBQWEsR0FBRztBQUFFLFVBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQTtHQUFFOztBQUV2QyxhQUFXLEdBQUc7QUFBRSxVQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0dBQUU7O0FBRS9DLGlCQUFlLEdBQUc7QUFBRSxVQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQTtHQUFFO0FBQ2xELGtCQUFnQixHQUFHO0FBQUUsVUFBTyxJQUFJLENBQUMsaUJBQWlCLENBQUE7R0FBRTtBQUNwRCxtQkFBaUIsR0FBRztBQUFFLFVBQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFBO0dBQUU7QUFDdEQsa0JBQWdCLEdBQUc7QUFBRSxVQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7R0FBRTs7QUFFN0MsWUFBVSxHQUFHO0FBQUUsVUFBTyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQTtHQUFFOztBQUVqRCxTQUFPLEdBQUc7QUFBRSxVQUFPLElBQUksQ0FBQyxRQUFRLENBQUE7R0FBRTtBQUNsQyxVQUFRLEdBQUc7QUFBRSxVQUFPLENBQUMsR0FBRSxJQUFJLENBQUMsUUFBUSxFQUFDLGFBQWEsQ0FBQyxDQUFBO0dBQUU7RUFDckQ7O2tCQWxFb0IsY0FBYzs7QUFvRW5DLE9BQ0MsUUFBUSxHQUFHLElBQUksSUFDZCxVQXhFTyxJQUFJLEVBd0VOLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDdEIsT0FBTyxHQUFHLElBQUksSUFDYixVQTFFTyxJQUFJLEVBMEVOLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDdEIsS0FBSyxHQUFHLElBQUk7O0FBRVgsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFBIiwiZmlsZSI6InByaXZhdGUvQ29tcGlsZU9wdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImltcG9ydCB7IGxhc3QsIHR5cGUgfSBmcm9tICcuL3V0aWwnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBpbGVPcHRpb25zIHtcblx0Y29uc3RydWN0b3Iob3B0cykge1xuXHRcdC8vIFRPRE86RVM2IE9wdGlvbmFsIGFyZ3VtZW50c1xuXHRcdGlmIChvcHRzID09PSB1bmRlZmluZWQpIG9wdHMgPSB7IH1cblx0XHR0eXBlKG9wdHMsIE9iamVjdClcblxuXHRcdGNvbnN0IGRlZmF1bHRUbyA9IChuYW1lLCBfZGVmYXVsdCkgPT4ge1xuXHRcdFx0Y29uc3QgXyA9IG9wdHNbbmFtZV1cblx0XHRcdGlmIChfID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdHJldHVybiBfZGVmYXVsdFxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHR5cGUoXywgX2RlZmF1bHQuY29uc3RydWN0b3IpXG5cdFx0XHRcdHJldHVybiBfXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVmaW5lID0gKG5hbWUsIF9kZWZhdWx0KSA9PiB7XG5cdFx0XHR0aGlzW2BfJHtuYW1lfWBdID0gZGVmYXVsdFRvKG5hbWUsIF9kZWZhdWx0KVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlZmF1bHRzID0ge1xuXHRcdFx0aW5jbHVkZUFtZGVmaW5lOiB0cnVlLFxuXHRcdFx0aW5jbHVkZVNvdXJjZU1hcDogdHJ1ZSxcblx0XHRcdGluY2x1ZGVNb2R1bGVOYW1lOiB0cnVlLFxuXHRcdFx0Zm9yY2VOb25MYXp5TW9kdWxlOiBmYWxzZSxcblx0XHRcdHVzZVN0cmljdDogdHJ1ZSxcblx0XHRcdGNoZWNrczogdHJ1ZSxcblx0XHRcdCd3YXJuLWFzLWVycm9yJzogZmFsc2UsXG5cdFx0XHR1c2VCb290OiB0cnVlLFxuXHRcdFx0bXNsUGF0aDogJ21zbCdcblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IF8gaW4gZGVmYXVsdHMpXG5cdFx0XHRkZWZpbmUoXywgZGVmYXVsdHNbX10pXG5cblx0XHR0aGlzLl9pbkZpbGUgPSBvcHRzLmluRmlsZVxuXG5cdFx0aWYgKHRoaXMuX2luRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAodGhpcy5faW5jbHVkZVNvdXJjZU1hcClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFaXRoZXIgc3VwcGx5IGBpbkZpbGVgIG9wdGlvbiBvciBtYWtlIGBpbmNsdWRlU291cmNlTWFwYCBmYWxzZS4nKVxuXHRcdFx0aWYgKHRoaXMuX2luY2x1ZGVNb2R1bGVOYW1lKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VpdGhlciBzdXBwbHkgYGluRmlsZWAgb3B0aW9uIG9yIG1ha2UgYGluY2x1ZGVNb2R1bGVOYW1lYCBmYWxzZS4nKVxuXHRcdH0gZWxzZVxuXHRcdFx0dHlwZSh0aGlzLl9pbkZpbGUsIFN0cmluZylcblx0fVxuXG5cdG1vZHVsZU5hbWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2luRmlsZSA9PT0gdW5kZWZpbmVkID8gJ2Fub255bW91cycgOiBub0V4dChiYXNlbmFtZSh0aGlzLl9pbkZpbGUpKVxuXHR9XG5cblx0anNCYXNlTmFtZSgpIHsgcmV0dXJuIGAke3RoaXMubW9kdWxlTmFtZSgpfS5qc2AgfVxuXHRtb2R1bGVQYXRoKCkgeyByZXR1cm4gdGhpcy5faW5GaWxlIH1cblxuXHRpbmNsdWRlQ2hlY2tzKCkgeyByZXR1cm4gdGhpcy5fY2hlY2tzIH1cblxuXHR3YXJuQXNFcnJvcigpIHsgcmV0dXJuIHRoaXNbJ193YXJuLWFzLWVycm9yJ10gfVxuXG5cdGluY2x1ZGVBbWRlZmluZSgpIHsgcmV0dXJuIHRoaXMuX2luY2x1ZGVBbWRlZmluZSB9XG5cdGluY2x1ZGVTb3VyY2VNYXAoKSB7IHJldHVybiB0aGlzLl9pbmNsdWRlU291cmNlTWFwIH1cblx0aW5jbHVkZU1vZHVsZU5hbWUoKSB7IHJldHVybiB0aGlzLl9pbmNsdWRlTW9kdWxlTmFtZSB9XG5cdGluY2x1ZGVVc2VTdHJpY3QoKSB7IHJldHVybiB0aGlzLl91c2VTdHJpY3QgfVxuXG5cdGxhenlNb2R1bGUoKSB7IHJldHVybiAhdGhpcy5fZm9yY2VOb25MYXp5TW9kdWxlIH1cblxuXHR1c2VCb290KCkgeyByZXR1cm4gdGhpcy5fdXNlQm9vdCB9XG5cdGJvb3RQYXRoKCkgeyByZXR1cm4gYCR7dGhpcy5fbXNsUGF0aH0vcHJpdmF0ZS9ib290YCB9XG59XG5cbmNvbnN0XG5cdGJhc2VuYW1lID0gcGF0aCA9PlxuXHRcdGxhc3QocGF0aC5zcGxpdCgnLycpKSxcblx0ZXh0bmFtZSA9IHBhdGggPT5cblx0XHRsYXN0KHBhdGguc3BsaXQoJy4nKSksXG5cdG5vRXh0ID0gcGF0aCA9PlxuXHRcdC8vIC0gMSBmb3IgdGhlICcuJ1xuXHRcdHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoIC0gMSAtIGV4dG5hbWUocGF0aCkubGVuZ3RoKVxuIl0sInNvdXJjZVJvb3QiOiIvc3JjIn0=