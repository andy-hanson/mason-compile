{"version":3,"sources":["Compiler.js"],"names":[],"mappings":"AAAA,CAAC,UAAU,OAAV,EAAmB;AAChB,QAAI,OAAO,MAAP,KAAkB,QAAlB,IAA8B,OAAO,OAAO,OAAP,KAAmB,QAA1B,EAAoC;AAClE,YAAI,IAAI,QAAQ,OAAR,EAAiB,OAAjB,CAAJ,CAD8D,IAC3B,MAAM,SAAN,EAAiB,OAAO,OAAP,GAAiB,CAAjB,CAArB;KADvC,MAGK,IAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAAP,EAAY;AACjD,eAAO,CAAC,SAAD,EAAY,SAAZ,EAAuB,gBAAvB,EAAyC,0BAAzC,EAAqE,mBAArE,EAA0F,mBAA1F,EAA+G,uBAA/G,EAAwI,kBAAxI,EAA4J,+BAA5J,EAA6L,yBAA7L,CAAP,EAAgO,OAAhO,EADiD;KAAhD;CAJR,CAAD,CAOG,UAAU,OAAV,EAAmB,OAAnB,EAA4B;AAC3B,iBAD2B;;AAE3B,QAAI,iBAAiB,QAAQ,gBAAR,CAAjB,CAFuB;AAG3B,QAAI,mBAAmB,QAAQ,0BAAR,CAAnB,CAHuB;AAI3B,QAAI,YAAY,QAAQ,mBAAR,CAAZ,CAJuB;AAK3B,QAAI,QAAQ,QAAQ,mBAAR,CAAR,CALuB;AAM3B,QAAI,UAAU,QAAQ,uBAAR,CAAV,CANuB;AAO3B,QAAI,WAAW,QAAQ,kBAAR,CAAX,CAPuB;AAQ3B,QAAI,cAAc,QAAQ,+BAAR,CAAd,CARuB;AAS3B,QAAI,WAAW,QAAQ,yBAAR,CAAX,CATuB;AAU3B,UAAM,QAAN,CAAe;AACX,sBAA0B;gBAAd,gEAAU,kBAAI;;AACtB,iBAAK,OAAL,GAAe,IAAI,iBAAiB,OAAjB,CAAyB,OAA7B,CAAf,CADsB;SAA1B;AAGA,gBAAQ,MAAR,EAAgB,QAAhB,EAA0B;AACtB,mBAAO,UAAU,WAAV,CAAsB,KAAK,OAAL,EAAc,QAApC,EAA8C,MAAM;AACvD,sBAAM,MAAM,QAAQ,OAAR,CAAgB,MAAM,OAAN,CAAc,MAAd,CAAhB,CAAN,CADiD;AAEvD,uBAAO,SAAS,OAAT,CAAiB,YAAY,OAAZ,CAAoB,GAApB,EAAyB,SAAS,OAAT,CAAiB,GAAjB,CAAzB,CAAjB,CAAP,CAFuD;aAAN,CAArD,CADsB;SAA1B;AAMA,cAAM,MAAN,EAAc,QAAd,EAAwB;AACpB,mBAAO,UAAU,WAAV,CAAsB,KAAK,OAAL,EAAc,QAApC,EAA8C,MAAM;AACvD,sBAAM,MAAM,QAAQ,OAAR,CAAgB,MAAM,OAAN,CAAc,MAAd,CAAhB,CAAN,CADiD;AAEvD,yBAAS,OAAT,CAAiB,GAAjB,EAFuD;AAGvD,uBAAO,GAAP,CAHuD;aAAN,CAArD,CADoB;SAAxB;AAOA,YAAI,YAAJ,GAAmB;AACf,mBAAO,eAAe,OAAf,CADQ;SAAnB;KAjBJ;AAqBA,WAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C,EAAE,OAAO,IAAP,EAA/C,EA/B2B;AAgC3B,YAAQ,OAAR,GAAkB,QAAlB,CAhC2B;CAA5B,CAPH","file":"Compiler.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", './CompileError', './private/CompileOptions', './private/context', './private/lex/lex', './private/parse/parse', './private/render', './private/transpile/transpile', './private/verify/verify'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var CompileError_1 = require('./CompileError');\n    var CompileOptions_1 = require('./private/CompileOptions');\n    var context_1 = require('./private/context');\n    var lex_1 = require('./private/lex/lex');\n    var parse_1 = require('./private/parse/parse');\n    var render_1 = require('./private/render');\n    var transpile_1 = require('./private/transpile/transpile');\n    var verify_1 = require('./private/verify/verify');\n    class Compiler {\n        constructor(options = {}) {\n            this.options = new CompileOptions_1.default(options);\n        }\n        compile(source, filename) {\n            return context_1.withContext(this.options, filename, () => {\n                const ast = parse_1.default(lex_1.default(source));\n                return render_1.default(transpile_1.default(ast, verify_1.default(ast)));\n            });\n        }\n        parse(source, filename) {\n            return context_1.withContext(this.options, filename, () => {\n                const ast = parse_1.default(lex_1.default(source));\n                verify_1.default(ast);\n                return ast;\n            });\n        }\n        get CompileError() {\n            return CompileError_1.default;\n        }\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = Compiler;\n});\n"],"sourceRoot":"/source/"}