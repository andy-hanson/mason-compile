{"version":3,"sources":["private/verify/verifyVal.js"],"names":[],"mappings":"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","file":"private/verify/verifyVal.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'op/Op', '../context', '../ast/Block', '../ast/booleans', '../ast/Call', '../ast/Class', '../ast/Fun', '../ast/LineContent', '../ast/locals', '../ast/Loop', '../ast/Method', '../ast/Trait', '../ast/Quote', '../ast/Val', './context', './util', './verifyBlock', './verifyBooleans', './verifyCall', './verifyClass', './verifyFun', './verifyLocals', './verifyLoop', './verifyMemberName', './verifyMethod', './verifyQuote', './verifyTrait', './verifyValOrDo'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Op_1 = require('op/Op');\n    var context_1 = require('../context');\n    var Block_1 = require('../ast/Block');\n    var booleans_1 = require('../ast/booleans');\n    var Call_1 = require('../ast/Call');\n    var Class_1 = require('../ast/Class');\n    var Fun_1 = require('../ast/Fun');\n    var LineContent_1 = require('../ast/LineContent');\n    var locals_1 = require('../ast/locals');\n    var Loop_1 = require('../ast/Loop');\n    var Method_1 = require('../ast/Method');\n    var Trait_1 = require('../ast/Trait');\n    var Quote_1 = require('../ast/Quote');\n    var Val_1 = require('../ast/Val');\n    var context_2 = require('./context');\n    var util_1 = require('./util');\n    var verifyBlock_1 = require('./verifyBlock');\n    var verifyBooleans_1 = require('./verifyBooleans');\n    var verifyCall_1 = require('./verifyCall');\n    var verifyClass_1 = require('./verifyClass');\n    var verifyFun_1 = require('./verifyFun');\n    var verifyLocals_1 = require('./verifyLocals');\n    var verifyLoop_1 = require('./verifyLoop');\n    var verifyMemberName_1 = require('./verifyMemberName');\n    var verifyMethod_1 = require('./verifyMethod');\n    var verifyQuote_1 = require('./verifyQuote');\n    var verifyTrait_1 = require('./verifyTrait');\n    var verifyValOrDo_1 = require('./verifyValOrDo');\n    function verifyVal(_) {\n        if (_ instanceof Val_1.BagSimple)\n            verifyCall_1.verifyEachValOrSpread(_.parts);\n        else if (_ instanceof Block_1.BlockWrap)\n            context_2.withIife(() => verifyBlock_1.verifyBlockVal(_.block));\n        else if (_ instanceof Class_1.default)\n            verifyClass_1.default(_);\n        else if (_ instanceof Loop_1.ForBag)\n            verifyLocals_1.verifyAndPlusLocal(_.built, () => verifyLoop_1.default(_, 1));\n        else if (_ instanceof Fun_1.default)\n            verifyFun_1.default(_);\n        else if (_ instanceof Val_1.InstanceOf) {\n            const { instance, type } = _;\n            verifyVal(instance);\n            verifyVal(type);\n        }\n        else if (_ instanceof Val_1.Lazy)\n            verifyLocals_1.withBlockLocals(() => verifyVal(_.value));\n        else if (_ instanceof locals_1.LocalAccess)\n            verifyLocals_1.verifyLocalAccess(_);\n        else if (_ instanceof booleans_1.Logic)\n            verifyBooleans_1.verifyLogic(_);\n        else if (_ instanceof Val_1.Member) {\n            const { object, name } = _;\n            verifyVal(object);\n            verifyMemberName_1.default(name);\n        }\n        else if (_ instanceof Method_1.default)\n            verifyMethod_1.default(_);\n        else if (_ instanceof Quote_1.MsRegExp)\n            verifyQuote_1.verifyRegExp(_);\n        else if (_ instanceof Call_1.New)\n            verifyCall_1.verifyNew(_);\n        else if (_ instanceof booleans_1.Not)\n            verifyBooleans_1.verifyNot(_);\n        else if (_ instanceof Val_1.NumberLiteral) {\n        }\n        else if (_ instanceof Val_1.ObjSimple) {\n            const keys = new Set();\n            for (const { key, value, loc } of _.pairs) {\n                if (typeof key === 'string') {\n                    context_1.check(!keys.has(key), loc, _ => _.duplicateKey(key));\n                    keys.add(key);\n                }\n                else\n                    verifyVal(key);\n                verifyVal(value);\n            }\n        }\n        else if (_ instanceof Val_1.Pipe) {\n            const { loc, startValue, pipes } = _;\n            verifyVal(startValue);\n            for (const pipe of pipes)\n                verifyLocals_1.registerAndPlusLocal(locals_1.LocalDeclare.focus(loc), () => {\n                    verifyVal(pipe);\n                });\n        }\n        else if (_ instanceof Quote_1.default)\n            verifyQuote_1.default(_);\n        else if (_ instanceof Quote_1.QuoteTagged)\n            verifyQuote_1.verifyQuoteTagged(_);\n        else if (_ instanceof Val_1.Range) {\n            const { start, opEnd } = _;\n            verifyVal(start);\n            verifyOpVal(opEnd);\n        }\n        else if (_ instanceof Val_1.SpecialVal) {\n            if (_.kind === 1)\n                util_1.setName(_);\n        }\n        else if (_ instanceof Val_1.Sub) {\n            const { subbed, args } = _;\n            verifyVal(subbed);\n            verifyEachVal(args);\n        }\n        else if (_ instanceof Class_1.SuperMember)\n            verifyClass_1.verifySuperMember(_);\n        else if (_ instanceof Trait_1.default)\n            verifyTrait_1.default(_);\n        else\n            verifyValOrDo_1.default(_, 1);\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = verifyVal;\n    function ensureValAndVerify(_) {\n        if (LineContent_1.isVal(_))\n            verifyVal(_);\n        else\n            throw context_1.fail(_.loc, _ => _.statementAsValue);\n    }\n    exports.ensureValAndVerify = ensureValAndVerify;\n    function verifyOpVal(_) {\n        if (Op_1.nonNull(_))\n            verifyVal(_);\n    }\n    exports.verifyOpVal = verifyOpVal;\n    function verifyEachVal(vals) {\n        for (const _ of vals)\n            verifyVal(_);\n    }\n    exports.verifyEachVal = verifyEachVal;\n});\n"],"sourceRoot":"/source/"}