if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'module', './util'], function (exports, module, _util) {
	'use strict';

	class CompileOptions {
		constructor(opts) {
			// TODO:ES6 Optional arguments
			if (opts === undefined) opts = {};
			(0, _util.type)(opts, Object);

			const defaultTo = (name, _default) => {
				const _ = opts[name];
				if (_ === undefined) return _default;else {
					(0, _util.type)(_, _default.constructor);
					return _;
				}
			};

			const define = (name, _default) => {
				this[`_${ name }`] = defaultTo(name, _default);
			};

			const defaults = {
				includeAmdefine: true,
				includeSourceMap: true,
				includeModuleName: true,
				forceNonLazyModule: false,
				useStrict: true,
				checks: true,
				'warn-as-error': false,
				useBoot: true,
				mslPath: 'msl'
			};
			for (const _ in defaults) define(_, defaults[_]);

			this._inFile = opts.inFile;

			if (this._inFile === undefined) {
				if (this._includeSourceMap) throw new Error('Either supply `inFile` option or make `includeSourceMap` false.');
				if (this._includeModuleName) throw new Error('Either supply `inFile` option or make `includeModuleName` false.');
			} else (0, _util.type)(this._inFile, String);

			const builtins = opts.builtins || defaultBuiltins(this._mslPath);
			this.builtinNameToPath = generateBuiltinsMap(builtins);
		}

		moduleName() {
			return this._inFile === undefined ? 'anonymous' : noExt(basename(this._inFile));
		}

		jsBaseName() {
			return `${ this.moduleName() }.js`;
		}
		modulePath() {
			return this._inFile;
		}

		includeChecks() {
			return this._checks;
		}

		warnAsError() {
			return this['_warn-as-error'];
		}

		includeAmdefine() {
			return this._includeAmdefine;
		}
		includeSourceMap() {
			return this._includeSourceMap;
		}
		includeModuleName() {
			return this._includeModuleName;
		}
		includeUseStrict() {
			return this._useStrict;
		}

		lazyModule() {
			return !this._forceNonLazyModule;
		}

		useBoot() {
			return this._useBoot;
		}
		bootPath() {
			return `${ this._mslPath }/private/boot`;
		}
	}

	module.exports = CompileOptions;

	const basename = path => (0, _util.last)(path.split('/')),
	      extname = path => (0, _util.last)(path.split('.')),
	      noExt = path =>
	// - 1 for the '.'
	path.substring(0, path.length - 1 - extname(path).length),
	      defaultBuiltins = mslPath => {
		const builtins = {
			global: ['Array', 'Boolean', 'Error', 'Function', 'Math', 'Number', 'Object', 'RegExp', 'String', 'Symbol'],
			'msl.@.?': ['un-?'],
			'msl.@.@': ['_', '-!', 'all?', 'empty', 'empty?', 'empty!', 'iterator'],
			'msl.@.Map.Map': ['_', 'assoc!', '?get'],
			'msl.@.Range': ['_'],
			'msl.@.Seq.Seq': ['_', '+>!'],
			'msl.@.Seq.Stream': ['_'],
			'msl.@.Set.Set': ['_'],
			'msl.compare': ['=?', '<?', '<=?', '>?', '>=?'],
			'msl.Generator': ['gen-next!'],
			'msl.math.methods': ['+', '-', '*', '/'],
			'msl.Type.Kind': ['_', 'kind!', 'self-kind!'],
			'msl.Type.Method': ['_', 'impl!', 'impl-for', 'self-impl!'],
			'msl.Type.Type': ['=>']
		};
		if (mslPath !== 'msl') for (let key in builtins) {
			const x = builtins[key];
			delete builtins[key];
			builtins[key.replace(/msl/g, opts.mslPath)] = x;
		}
		return builtins;
	},
	      generateBuiltinsMap = builtins => {
		const m = new Map();
		for (const path in builtins) {
			const realPath = path.replace(/\./g, '/');
			for (let used of builtins[path]) {
				if (used === '_') used = (0, _util.last)(path.split('.'));
				if (m.has(used)) throw new Error(`Builtin ${ used } defined more than once.`);
				m.set(used, realPath);
			}
		}
		return m;
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbXBpbGVPcHRpb25zLmpzIiwicHJpdmF0ZS9Db21waWxlT3B0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRWUsT0FBTSxjQUFjLENBQUM7QUFDbkMsYUFBVyxDQUFDLElBQUksRUFBRTs7QUFFakIsT0FBSSxJQUFJLEtBQUssU0FBUyxFQUFFLElBQUksR0FBRyxFQUFHLENBQUE7QUFDbEMsYUFOYSxJQUFJLEVBTVosSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFBOztBQUVsQixTQUFNLFNBQVMsR0FBRyxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7QUFDckMsVUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3BCLFFBQUksQ0FBQyxLQUFLLFNBQVMsRUFDbEIsT0FBTyxRQUFRLENBQUEsS0FDWDtBQUNKLGVBYlcsSUFBSSxFQWFWLENBQUMsRUFBRSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDN0IsWUFBTyxDQUFDLENBQUE7S0FDUjtJQUNELENBQUE7O0FBRUQsU0FBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO0FBQ2xDLFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUM1QyxDQUFBOztBQUVELFNBQU0sUUFBUSxHQUFHO0FBQ2hCLG1CQUFlLEVBQUUsSUFBSTtBQUNyQixvQkFBZ0IsRUFBRSxJQUFJO0FBQ3RCLHFCQUFpQixFQUFFLElBQUk7QUFDdkIsc0JBQWtCLEVBQUUsS0FBSztBQUN6QixhQUFTLEVBQUUsSUFBSTtBQUNmLFVBQU0sRUFBRSxJQUFJO0FBQ1osbUJBQWUsRUFBRSxLQUFLO0FBQ3RCLFdBQU8sRUFBRSxJQUFJO0FBQ2IsV0FBTyxFQUFFLEtBQUs7SUFDZCxDQUFBO0FBQ0QsUUFBSyxNQUFNLENBQUMsSUFBSSxRQUFRLEVBQ3ZCLE1BQU0sQ0FB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SUFBSSxJQUFJLFFBQVEsRUFBRTtBQUM1QixTQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUN6QyxRQUFLLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNoQyxRQUFJLElBQUksS0FBSyxHQUFHLEVBQ2YsSUFBSSxHQUFHLFVBaEhILElBQUksRUFnSEksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzdCLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLENBQUMsUUFBUSxHQUFFLElBQUksRUFBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUE7QUFDM0QsS0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFDckI7R0FDRDtBQUNELFNBQU8sQ0FBQyxDQUFBO0VBQ1IsQ0FBQSIsImZpbGUiOiJwcml2YXRlL0NvbXBpbGVPcHRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCJpbXBvcnQgeyBsYXN0LCB0eXBlIH0gZnJvbSAnLi91dGlsJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21waWxlT3B0aW9ucyB7XG5cdGNvbnN0cnVjdG9yKG9wdHMpIHtcblx0XHQvLyBUT0RPOkVTNiBPcHRpb25hbCBhcmd1bWVudHNcblx0XHRpZiAob3B0cyA9PT0gdW5kZWZpbmVkKSBvcHRzID0geyB9XG5cdFx0dHlwZShvcHRzLCBPYmplY3QpXG5cblx0XHRjb25zdCBkZWZhdWx0VG8gPSAobmFtZSwgX2RlZmF1bHQpID0+IHtcblx0XHRcdGNvbnN0IF8gPSBvcHRzW25hbWVdXG5cdFx0XHRpZiAoXyA9PT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRyZXR1cm4gX2RlZmF1bHRcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0eXBlKF8sIF9kZWZhdWx0LmNvbnN0cnVjdG9yKVxuXHRcdFx0XHRyZXR1cm4gX1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlZmluZSA9IChuYW1lLCBfZGVmYXVsdCkgPT4ge1xuXHRcdFx0dGhpc1tgXyR7bmFtZX1gXSA9IGRlZmF1bHRUbyhuYW1lLCBfZGVmYXVsdClcblx0XHR9XG5cblx0XHRjb25zdCBkZWZhdWx0cyA9IHtcblx0XHRcdGluY2x1ZGVBbWRlZmluZTogdHJ1ZSxcblx0XHRcdGluY2x1ZGVTb3VyY2VNYXA6IHRydWUsXG5cdFx0XHRpbmNsdWRlTW9kdWxlTmFtZTogdHJ1ZSxcblx0XHRcdGZvcmNlTm9uTGF6eU1vZHVsZTogZmFsc2UsXG5cdFx0XHR1c2VTdHJpY3Q6IHRydWUsXG5cdFx0XHRjaGVja3M6IHRydWUsXG5cdFx0XHQnd2Fybi1hcy1lcnJvcic6IGZhbHNlLFxuXHRcdFx0dXNlQm9vdDogdHJ1ZSxcblx0XHRcdG1zbFBhdGg6ICdtc2wnLFxuXHRcdH1cblx0XHRmb3IgKGNvbnN0IF8gaW4gZGVmYXVsdHMpXG5cdFx0XHRkZWZpbmUoXywgZGVmYXVsdHNbX10pXG5cblx0XHR0aGlzLl9pbkZpbGUgPSBvcHRzLmluRmlsZVxuXG5cdFx0aWYgKHRoaXMuX2luRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAodGhpcy5faW5jbHVkZVNvdXJjZU1hcClcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFaXRoZXIgc3VwcGx5IGBpbkZpbGVgIG9wdGlvbiBvciBtYWtlIGBpbmNsdWRlU291cmNlTWFwYCBmYWxzZS4nKVxuXHRcdFx0aWYgKHRoaXMuX2luY2x1ZGVNb2R1bGVOYW1lKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VpdGhlciBzdXBwbHkgYGluRmlsZWAgb3B0aW9uIG9yIG1ha2UgYGluY2x1ZGVNb2R1bGVOYW1lYCBmYWxzZS4nKVxuXHRcdH0gZWxzZVxuXHRcdFx0dHlwZSh0aGlzLl9pbkZpbGUsIFN0cmluZylcblxuXHRcdGNvbnN0IGJ1aWx0aW5zID0gb3B0cy5idWlsdGlucyB8fCBkZWZhdWx0QnVpbHRpbnModGhpcy5fbXNsUGF0aClcblx0XHR0aGlzLmJ1aWx0aW5OYW1lVG9QYXRoID0gZ2VuZXJhdGVCdWlsdGluc01hcChidWlsdGlucylcblx0fVxuXG5cdG1vZHVsZU5hbWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2luRmlsZSA9PT0gdW5kZWZpbmVkID8gJ2Fub255bW91cycgOiBub0V4dChiYXNlbmFtZSh0aGlzLl9pbkZpbGUpKVxuXHR9XG5cblx0anNCYXNlTmFtZSgpIHsgcmV0dXJuIGAke3RoaXMubW9kdWxlTmFtZSgpfS5qc2AgfVxuXHRtb2R1bGVQYXRoKCkgeyByZXR1cm4gdGhpcy5faW5GaWxlIH1cblxuXHRpbmNsdWRlQ2hlY2tzKCkgeyByZXR1cm4gdGhpcy5fY2hlY2tzIH1cblxuXHR3YXJuQXNFcnJvcigpIHsgcmV0dXJuIHRoaXNbJ193YXJuLWFzLWVycm9yJ10gfVxuXG5cdGluY2x1ZGVBbWRlZmluZSgpIHsgcmV0dXJuIHRoaXMuX2luY2x1ZGVBbWRlZmluZSB9XG5cdGluY2x1ZGVTb3VyY2VNYXAoKSB7IHJldHVybiB0aGlzLl9pbmNsdWRlU291cmNlTWFwIH1cblx0aW5jbHVkZU1vZHVsZU5hbWUoKSB7IHJldHVybiB0aGlzLl9pbmNsdWRlTW9kdWxlTmFtZSB9XG5cdGluY2x1ZGVVc2VTdHJpY3QoKSB7IHJldHVybiB0aGlzLl91c2VTdHJpY3QgfVxuXG5cdGxhenlNb2R1bGUoKSB7IHJldHVybiAhdGhpcy5fZm9yY2VOb25MYXp5TW9kdWxlIH1cblxuXHR1c2VCb290KCkgeyByZXR1cm4gdGhpcy5fdXNlQm9vdCB9XG5cdGJvb3RQYXRoKCkgeyByZXR1cm4gYCR7dGhpcy5fbXNsUGF0aH0vcHJpdmF0ZS9ib290YCB9XG59XG5cbmNvbnN0XG5cdGJhc2VuYW1lID0gcGF0aCA9PlxuXHRcdGxhc3QocGF0aC5zcGxpdCgnLycpKSxcblx0ZXh0bmFtZSA9IHBhdGggPT5cblx0XHRsYXN0KHBhdGguc3BsaXQoJy4nKSksXG5cdG5vRXh0ID0gcGF0aCA9PlxuXHRcdC8vIC0gMSBmb3IgdGhlICcuJ1xuXHRcdHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVuZ3RoIC0gMSAtIGV4dG5hbWUocGF0aCkubGVuZ3RoKSxcblx0ZGVmYXVsdEJ1aWx0aW5zID0gbXNsUGF0aCA9PiB7XG5cdFx0Y29uc3QgYnVpbHRpbnMgPSB7XG5cdFx0XHRnbG9iYWw6IFsgJ0FycmF5JywgJ0Jvb2xlYW4nLCAnRXJyb3InLCAnRnVuY3Rpb24nLCAnTWF0aCcsICdOdW1iZXInLCAnT2JqZWN0Jyxcblx0XHRcdFx0J1JlZ0V4cCcsICdTdHJpbmcnLCAnU3ltYm9sJyBdLFxuXHRcdFx0J21zbC5ALj8nOiBbICd1bi0/JyBdLFxuXHRcdFx0J21zbC5ALkAnOiBbICdfJywgJy0hJywgJ2FsbD8nLCAnZW1wdHknLCAnZW1wdHk/JywgJ2VtcHR5IScsICdpdGVyYXRvcicgXSxcblx0XHRcdCdtc2wuQC5NYXAuTWFwJzogWyAnXycsICdhc3NvYyEnLCAnP2dldCcgXSxcblx0XHRcdCdtc2wuQC5SYW5nZSc6IFsgJ18nIF0sXG5cdFx0XHQnbXNsLkAuU2VxLlNlcSc6IFsgJ18nLCAnKz4hJyBdLFxuXHRcdFx0J21zbC5ALlNlcS5TdHJlYW0nOiBbICdfJyBdLFxuXHRcdFx0J21zbC5ALlNldC5TZXQnOiBbICdfJyBdLFxuXHRcdFx0J21zbC5jb21wYXJlJzogWyAnPT8nLCAnPD8nLCAnPD0/JywgJz4/JywgJz49PycgXSxcblx0XHRcdCdtc2wuR2VuZXJhdG9yJzogWyAnZ2VuLW5leHQhJyBdLFxuXHRcdFx0J21zbC5tYXRoLm1ldGhvZHMnOiBbICcrJywgJy0nLCAnKicsICcvJyBdLFxuXHRcdFx0J21zbC5UeXBlLktpbmQnOiBbICdfJywgJ2tpbmQhJywgJ3NlbGYta2luZCEnIF0sXG5cdFx0XHQnbXNsLlR5cGUuTWV0aG9kJzogWyAnXycsICdpbXBsIScsICdpbXBsLWZvcicsICdzZWxmLWltcGwhJyBdLFxuXHRcdFx0J21zbC5UeXBlLlR5cGUnOiBbICc9PicgXVxuXHRcdH1cblx0XHRpZiAobXNsUGF0aCAhPT0gJ21zbCcpXG5cdFx0XHRmb3IgKGxldCBrZXkgaW4gYnVpbHRpbnMpIHtcblx0XHRcdFx0Y29uc3QgeCA9IGJ1aWx0aW5zW2tleV1cblx0XHRcdFx0ZGVsZXRlIGJ1aWx0aW5zW2tleV1cblx0XHRcdFx0YnVpbHRpbnNba2V5LnJlcGxhY2UoL21zbC9nLCBvcHRzLm1zbFBhdGgpXSA9IHhcblx0XHRcdH1cblx0XHRyZXR1cm4gYnVpbHRpbnNcblx0fSxcblx0Z2VuZXJhdGVCdWlsdGluc01hcCA9IGJ1aWx0aW5zID0+IHtcblx0XHRjb25zdCBtID0gbmV3IE1hcCgpXG5cdFx0Zm9yIChjb25zdCBwYXRoIGluIGJ1aWx0aW5zKSB7XG5cdFx0XHRjb25zdCByZWFsUGF0aCA9IHBhdGgucmVwbGFjZSgvXFwuL2csICcvJylcblx0XHRcdGZvciAobGV0IHVzZWQgb2YgYnVpbHRpbnNbcGF0aF0pIHtcblx0XHRcdFx0aWYgKHVzZWQgPT09ICdfJylcblx0XHRcdFx0XHR1c2VkID0gbGFzdChwYXRoLnNwbGl0KCcuJykpXG5cdFx0XHRcdGlmIChtLmhhcyh1c2VkKSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEJ1aWx0aW4gJHt1c2VkfSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlLmApXG5cdFx0XHRcdG0uc2V0KHVzZWQsIHJlYWxQYXRoKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbVxuXHR9XG4iXSwic291cmNlUm9vdCI6Ii9zcmMifQ==