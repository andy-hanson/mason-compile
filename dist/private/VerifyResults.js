if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', './util'], function (exports, _util) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	class VerifyResults {
		constructor() {
			// LocalAccess -> LocalDeclare.
			// Needed because lazy accesses must be compiled differently.
			this.localAccessToDeclare = new Map();
			// LocalDeclare -> VrLocalInfo.
			// Debug locals will not be output if not in debug mode.
			this.localDeclareToInfo = new Map();
			// Maps Class/Fun to name if one is appropriate.
			// Maps *every* SV_Name to the nearest name.
			this.names = new Map();
			// String -> Set.
			// For each path, the names of each builtin imported.
			// Like the inverse of context.opts.builtinNameToPath,
			// but only includes names actually used.
			this.builtinPathToNames = new Map();
			// Values are either MethodImpl or the string 'constructor'
			this.superCallToMethod = new Map();
			// Links a constructor to its super! call.
			this.constructorToSuper = new Map();
		}

		isDebugLocal(localDeclare) {
			return this.localDeclareToInfo.get(localDeclare).isInDebug;
		}

		isAccessed(localDeclare) {
			const info = this.localDeclareToInfo.get(localDeclare);
			return !((0, _util.isEmpty)(info.debugAccesses) && (0, _util.isEmpty)(info.nonDebugAccesses));
		}

		localDeclareForAccess(localAccess) {
			return this.localAccessToDeclare.get(localAccess);
		}

		name(expr) {
			return this.names.get(expr);
		}

		opName(expr) {
			const x = this.names.get(expr);
			return x === undefined ? null : x;
		}
	}

	exports.default = VerifyResults;

	class LocalInfo {
		static empty(isInDebug) {
			return new LocalInfo(isInDebug, [], []);
		}

		constructor(isInDebug, /* Boolean */
		debugAccesses, /* LocalAccess */
		nonDebugAccesses /* Array[LocalAccess] */) {
			this.isInDebug = isInDebug;
			this.debugAccesses = debugAccesses;
			this.nonDebugAccesses = nonDebugAccesses;
		}
	}

	exports.LocalInfo = LocalInfo;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlcmlmeVJlc3VsdHMuanMiLCJwcml2YXRlL1ZlcmlmeVJlc3VsdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNFZSxPQUFNLGFBQWEsQ0FBQztBQUNsQyxhQUFXLEdBQUc7OztBQUdiLE9BQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBOzs7QUFHckMsT0FBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7OztBQUduQyxPQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7Ozs7O0FBS3RCLE9BQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBOztBQUVuQyxPQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQTs7QUFFbEMsT0FBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7R0FDbkM7O0FBRUQsY0FBWSxDQUFDLFlBQVksRUFBRTtBQUMxQixVQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsU0FBUyxDQUFBO0dBQzFEOztBQUVELFlBQVUsQ0FBQyxZQUFZLEVBQUU7QUFDeEIsU0FBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUN0RCxVQUFPLEVBQUUsVUE5QkgsT0FBTyxFQThCSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksVUE5QmxDLE9BQU8sRUE4Qm1DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBLEFBQUMsQ0FBQTtHQUN2RTs7QUFFRCx1QkFBcUIsQ0FBQyxXQUFXLEVBQUU7QUFDbEMsVUFBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0dBQ2pEOztBQUVELE1BQUksQ0FBQyxJQUFJLEVBQUU7QUFDVixVQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO0dBQzNCOztBQUVELFFBQU0sQ0FBQyxJQUFJLEVBQUU7QUFDWixTQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUM5QixVQUFPLENBQUMsS0FBSyxTQUFTLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQTtHQUNqQztFQUNEOzttQkEzQ29CLGFBQWE7O0FBNkMzQixPQUFNLFNBQVMsQ0FBQztBQUN0QixTQUFPLEtBQUssQ0FBQyxTQUFTLEVBQUU7QUFDdkIsVUFBTyxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFBO0dBQ3ZDOztBQUVELGFBQVcsQ0FDVixTQUFTO0FBQ1QsZUFBYTtBQUNiLGtCQUFnQiwyQkFBMkI7QUFDM0MsT0FBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUE7QUFDMUIsT0FBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUE7QUFDbEMsT0FBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFBO0dBQ3hDO0VBQ0QiLCJmaWxlIjoicHJpdmF0ZS9WZXJpZnlSZXN1bHRzLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCJpbXBvcnQge2lzRW1wdHl9IGZyb20gJy4vdXRpbCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyaWZ5UmVzdWx0cyB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdC8vIExvY2FsQWNjZXNzIC0+IExvY2FsRGVjbGFyZS5cblx0XHQvLyBOZWVkZWQgYmVjYXVzZSBsYXp5IGFjY2Vzc2VzIG11c3QgYmUgY29tcGlsZWQgZGlmZmVyZW50bHkuXG5cdFx0dGhpcy5sb2NhbEFjY2Vzc1RvRGVjbGFyZSA9IG5ldyBNYXAoKVxuXHRcdC8vIExvY2FsRGVjbGFyZSAtPiBWckxvY2FsSW5mby5cblx0XHQvLyBEZWJ1ZyBsb2NhbHMgd2lsbCBub3QgYmUgb3V0cHV0IGlmIG5vdCBpbiBkZWJ1ZyBtb2RlLlxuXHRcdHRoaXMubG9jYWxEZWNsYXJlVG9JbmZvID0gbmV3IE1hcCgpXG5cdFx0Ly8gTWFwcyBDbGFzcy9GdW4gdG8gbmFtZSBpZiBvbmUgaXMgYXBwcm9wcmlhdGUuXG5cdFx0Ly8gTWFwcyAqZXZlcnkqIFNWX05hbWUgdG8gdGhlIG5lYXJlc3QgbmFtZS5cblx0XHR0aGlzLm5hbWVzID0gbmV3IE1hcCgpXG5cdFx0Ly8gU3RyaW5nIC0+IFNldC5cblx0XHQvLyBGb3IgZWFjaCBwYXRoLCB0aGUgbmFtZXMgb2YgZWFjaCBidWlsdGluIGltcG9ydGVkLlxuXHRcdC8vIExpa2UgdGhlIGludmVyc2Ugb2YgY29udGV4dC5vcHRzLmJ1aWx0aW5OYW1lVG9QYXRoLFxuXHRcdC8vIGJ1dCBvbmx5IGluY2x1ZGVzIG5hbWVzIGFjdHVhbGx5IHVzZWQuXG5cdFx0dGhpcy5idWlsdGluUGF0aFRvTmFtZXMgPSBuZXcgTWFwKClcblx0XHQvLyBWYWx1ZXMgYXJlIGVpdGhlciBNZXRob2RJbXBsIG9yIHRoZSBzdHJpbmcgJ2NvbnN0cnVjdG9yJ1xuXHRcdHRoaXMuc3VwZXJDYWxsVG9NZXRob2QgPSBuZXcgTWFwKClcblx0XHQvLyBMaW5rcyBhIGNvbnN0cnVjdG9yIHRvIGl0cyBzdXBlciEgY2FsbC5cblx0XHR0aGlzLmNvbnN0cnVjdG9yVG9TdXBlciA9IG5ldyBNYXAoKVxuXHR9XG5cblx0aXNEZWJ1Z0xvY2FsKGxvY2FsRGVjbGFyZSkge1xuXHRcdHJldHVybiB0aGlzLmxvY2FsRGVjbGFyZVRvSW5mby5nZXQobG9jYWxEZWNsYXJlKS5pc0luRGVidWdcblx0fVxuXG5cdGlzQWNjZXNzZWQobG9jYWxEZWNsYXJlKSB7XG5cdFx0Y29uc3QgaW5mbyA9IHRoaXMubG9jYWxEZWNsYXJlVG9JbmZvLmdldChsb2NhbERlY2xhcmUpXG5cdFx0cmV0dXJuICEoaXNFbXB0eShpbmZvLmRlYnVnQWNjZXNzZXMpICYmIGlzRW1wdHkoaW5mby5ub25EZWJ1Z0FjY2Vzc2VzKSlcblx0fVxuXG5cdGxvY2FsRGVjbGFyZUZvckFjY2Vzcyhsb2NhbEFjY2Vzcykge1xuXHRcdHJldHVybiB0aGlzLmxvY2FsQWNjZXNzVG9EZWNsYXJlLmdldChsb2NhbEFjY2Vzcylcblx0fVxuXG5cdG5hbWUoZXhwcikge1xuXHRcdHJldHVybiB0aGlzLm5hbWVzLmdldChleHByKVxuXHR9XG5cblx0b3BOYW1lKGV4cHIpIHtcblx0XHRjb25zdCB4ID0gdGhpcy5uYW1lcy5nZXQoZXhwcilcblx0XHRyZXR1cm4geCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHhcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgTG9jYWxJbmZvIHtcblx0c3RhdGljIGVtcHR5KGlzSW5EZWJ1Zykge1xuXHRcdHJldHVybiBuZXcgTG9jYWxJbmZvKGlzSW5EZWJ1ZywgW10sIFtdKVxuXHR9XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0aXNJbkRlYnVnIC8qIEJvb2xlYW4gKi8sXG5cdFx0ZGVidWdBY2Nlc3NlcyAvKiBMb2NhbEFjY2VzcyAqLyxcblx0XHRub25EZWJ1Z0FjY2Vzc2VzIC8qIEFycmF5W0xvY2FsQWNjZXNzXSAqLykge1xuXHRcdHRoaXMuaXNJbkRlYnVnID0gaXNJbkRlYnVnXG5cdFx0dGhpcy5kZWJ1Z0FjY2Vzc2VzID0gZGVidWdBY2Nlc3Nlc1xuXHRcdHRoaXMubm9uRGVidWdBY2Nlc3NlcyA9IG5vbkRlYnVnQWNjZXNzZXNcblx0fVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc3JjIn0=
