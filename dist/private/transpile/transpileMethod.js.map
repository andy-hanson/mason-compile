{"version":3,"sources":["private/transpile/transpileMethod.js"],"names":[],"mappings":"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","file":"private/transpile/transpileMethod.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Class', 'esast/lib/Function', 'esast/lib/ObjectExpression', 'esast-create-util/lib/util', '../ast/classTraitCommon', '../ast/Val', './esast-constants', './transpileBlock', './transpileFun', './transpileVal', './util'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Class_1 = require('esast/lib/Class');\n    var Function_1 = require('esast/lib/Function');\n    var ObjectExpression_1 = require('esast/lib/ObjectExpression');\n    var util_1 = require('esast-create-util/lib/util');\n    var classTraitCommon_1 = require('../ast/classTraitCommon');\n    var Val_1 = require('../ast/Val');\n    var esast_constants_1 = require('./esast-constants');\n    var transpileBlock_1 = require('./transpileBlock');\n    var transpileFun_1 = require('./transpileFun');\n    var transpileVal_1 = require('./transpileVal');\n    var util_2 = require('./util');\n    function transpileMethodToDefinition(_, isStatic) {\n        const { name, ctr, value } = methodParams(_, { method: Class_1.MethodDefinitionPlain, get: Class_1.MethodDefinitionGet, set: Class_1.MethodDefinitionSet });\n        const { params, body, generator, async } = value;\n        return util_2.loc(_, new ctr(name, value, { static: isStatic }));\n    }\n    exports.transpileMethodToDefinition = transpileMethodToDefinition;\n    function transpileMethodToProperty(_) {\n        const { name, ctr, value } = methodParams(_, { method: ObjectExpression_1.PropertyMethod, get: ObjectExpression_1.PropertyGet, set: ObjectExpression_1.PropertySet });\n        return util_2.loc(_, new ctr(name, value));\n    }\n    exports.transpileMethodToProperty = transpileMethodToProperty;\n    function methodParams(_, ctrs) {\n        const symbol = _.symbol;\n        return {\n            name: typeof symbol === 'string' ?\n                util_1.propertyIdOrLiteral(symbol) :\n                new ObjectExpression_1.ComputedName(symbol instanceof Val_1.QuoteAbstract ?\n                    transpileVal_1.default(symbol) :\n                    util_2.msCall('symbol', transpileVal_1.default(symbol))),\n            ctr: _ instanceof classTraitCommon_1.MethodImpl ? ctrs.method : _ instanceof classTraitCommon_1.MethodGetter ? ctrs.get : ctrs.set,\n            value: _ instanceof classTraitCommon_1.MethodImpl ?\n                transpileFun_1.default(_.fun) :\n                getSetFun(_)\n        };\n    }\n    function getSetFun(_) {\n        const args = _ instanceof classTraitCommon_1.MethodGetter ? [] : [esast_constants_1.IdFocus];\n        return new Function_1.FunctionExpression(null, args, transpileBlock_1.default(_.block, esast_constants_1.DeclareLexicalThis));\n    }\n});\n"],"sourceRoot":"/source/"}