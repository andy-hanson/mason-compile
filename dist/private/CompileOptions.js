if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'module', './util'], function (exports, module, _util) {
	'use strict';

	class CompileOptions {
		constructor(opts) {
			// TODO:ES6 Optional arguments
			if (opts === undefined) opts = {};
			(0, _util.type)(opts, Object);

			const defaultTo = (name, _default) => {
				const _ = opts[name];
				if (_ === undefined) return _default;else {
					(0, _util.type)(_, _default.constructor);
					return _;
				}
			};

			const define = (name, _default) => {
				this[`_${ name }`] = defaultTo(name, _default);
			};

			const defaults = {
				includeAmdefine: true,
				includeSourceMap: true,
				includeModuleName: true,
				forceNonLazyModule: false,
				useStrict: true,
				checks: true,
				'warn-as-error': false,
				useBoot: true,
				mslPath: 'msl'
			};
			for (const _ in defaults) define(_, defaults[_]);

			this._inFile = opts.inFile;

			if (this._inFile === undefined) {
				if (this._includeSourceMap) throw new Error('Either supply `inFile` option or make `includeSourceMap` false.');
				if (this._includeModuleName) throw new Error('Either supply `inFile` option or make `includeModuleName` false.');
			} else (0, _util.type)(this._inFile, String);

			const builtins = opts.builtins || defaultBuiltins(this._mslPath);
			this.builtinNameToPath = generateBuiltinsMap(builtins);
		}

		moduleName() {
			return this._inFile === undefined ? 'anonymous' : noExt(basename(this._inFile));
		}

		jsBaseName() {
			return `${ this.moduleName() }.js`;
		}
		modulePath() {
			return this._inFile;
		}

		includeChecks() {
			return this._checks;
		}

		warnAsError() {
			return this['_warn-as-error'];
		}

		includeAmdefine() {
			return this._includeAmdefine;
		}
		includeSourceMap() {
			return this._includeSourceMap;
		}
		includeModuleName() {
			return this._includeModuleName;
		}
		includeUseStrict() {
			return this._useStrict;
		}

		lazyModule() {
			return !this._forceNonLazyModule;
		}

		useBoot() {
			return this._useBoot;
		}
		bootPath() {
			return `${ this._mslPath }/private/boot`;
		}
	}

	module.exports = CompileOptions;

	const basename = path => (0, _util.last)(path.split('/')),
	      extname = path => (0, _util.last)(path.split('.')),
	      noExt = path =>
	// - 1 for the '.'
	path.substring(0, path.length - 1 - extname(path).length),
	      defaultBuiltins = mslPath => {
		const builtins = {
			global: ['Array', 'Boolean', 'Error', 'Function', 'Math', 'Number', 'Object', 'RegExp', 'String', 'Symbol'],
			'msl.@.?': ['un-?'],
			'msl.@.@': ['_', '-!', 'all?', 'count', 'empty', 'empty?', 'empty!', 'iterator'],
			'msl.@.Map.Map': ['_', 'assoc!', '?get'],
			'msl.@.Range': ['_'],
			'msl.@.Seq.Seq': ['_', '+>!'],
			'msl.@.Seq.Stream': ['_'],
			'msl.@.Set.Set': ['_'],
			'msl.compare': ['=?', '<?', '<=?', '>?', '>=?', 'min', 'max'],
			'msl.Generator': ['gen-next!'],
			'msl.math.methods': ['+', '-', '*', '/'],
			'msl.math.Number': ['neg'],
			'msl.Type.Kind': ['_', 'kind!', 'self-kind!'],
			'msl.Type.Method': ['_', 'impl!', 'impl-for', 'self-impl!'],
			'msl.Type.Type': ['=>']
		};
		if (mslPath !== 'msl') for (let key in builtins) {
			const x = builtins[key];
			delete builtins[key];
			builtins[key.replace(/msl/g, mslPath)] = x;
		}
		return builtins;
	},
	      generateBuiltinsMap = builtins => {
		const m = new Map();
		for (const path in builtins) {
			const realPath = path.replace(/\./g, '/');
			for (let used of builtins[path]) {
				if (used === '_') used = (0, _util.last)(path.split('.'));
				if (m.has(used)) throw new Error(`Builtin ${ used } defined more than once.`);
				m.set(used, realPath);
			}
		}
		return m;
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvbXBpbGVPcHRpb25zLmpzIiwicHJpdmF0ZS9Db21waWxlT3B0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRWUsT0FBTSxjQUFjLENBQUM7QUFDbkMsYUFBVyxDQUFDLElBQUksRUFBRTs7QUFFakIsT0FBSSxJQUFJLEtBQUssU0FBUyxFQUFFLElBQUksR0FBRyxFQUFHLENBQUE7QUFDbEMsYUFOYSxJQUFJLEVBTVosSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFBOztBQUVsQixTQUFNLFNBQVMsR0FBRyxDQUFDLElBQUksRUFBRSxRQUFRLEtBQUs7QUFDckMsVUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3BCLFFBQUksQ0FBQyxLQUFLLFNBQVMsRUFDbEIsT0FBTyxRQUFRLENBQUEsS0FDWDtBQUNKLGVBYlcsSUFBSSxFQWFWLENBQUMsRUFBRSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDN0IsWUFBTyxDQUFDLENBQUE7S0FDUjtJQUNELENBQUE7O0FBRUQsU0FBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxLQUFLO0FBQ2xDLFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUM1QyxDQUFBOztBQUVELFNBQU0sUUFBUSxHQUFHO0FBQ2hCLG1CQUFlLEVBQUUsSUFBSTtBQUNyQixvQkFBZ0IsRUFBRSxJQUFJO0FBQ3RCLHFCQUFpQixFQUFFLElBQUk7QUFDdkIsc0JBQWtCLEVBQUUsS0FBSztBQUN6QixhQUFTLEVBQUUsSUFBSTtBQUNmLFVBQU0sRUFBRSxJQUFJO0FBQ1osbUJBQWUsRUFBRSxLQUFLO0FBQ3RCLFdBQU8sRUFBRSxJQUFJO0FBQ2IsV0FBTyxFQUFFLEtBQUs7SUFDZCxDQUFBO0FBQ0QsUUFBSyxNQUFNLENBQUMsSUFBSSxRQUFRLEVBQ3ZCLE1BQU0sQ0FB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QyxRQUFNLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO0FBQ25CLE9BQUssTUFBTSxJQUFJLElBQUksUUFBUSxFQUFFO0FBQzVCLFNBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ3pDLFFBQUssSUFBSSxJQUFJLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ2hDLFFBQUksSUFBSSxLQUFLLEdBQUcsRUFDZixJQUFJLEdBQUcsVUFqSEgsSUFBSSxFQWlISSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDN0IsUUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxRQUFRLEdBQUUsSUFBSSxFQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQTtBQUMzRCxLQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUNyQjtHQUNEO0FBQ0QsU0FBTyxDQUFDLENBQUE7RUFDUixDQUFBIiwiZmlsZSI6InByaXZhdGUvQ29tcGlsZU9wdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImltcG9ydCB7IGxhc3QsIHR5cGUgfSBmcm9tICcuL3V0aWwnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBpbGVPcHRpb25zIHtcblx0Y29uc3RydWN0b3Iob3B0cykge1xuXHRcdC8vIFRPRE86RVM2IE9wdGlvbmFsIGFyZ3VtZW50c1xuXHRcdGlmIChvcHRzID09PSB1bmRlZmluZWQpIG9wdHMgPSB7IH1cblx0XHR0eXBlKG9wdHMsIE9iamVjdClcblxuXHRcdGNvbnN0IGRlZmF1bHRUbyA9IChuYW1lLCBfZGVmYXVsdCkgPT4ge1xuXHRcdFx0Y29uc3QgXyA9IG9wdHNbbmFtZV1cblx0XHRcdGlmIChfID09PSB1bmRlZmluZWQpXG5cdFx0XHRcdHJldHVybiBfZGVmYXVsdFxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHR5cGUoXywgX2RlZmF1bHQuY29uc3RydWN0b3IpXG5cdFx0XHRcdHJldHVybiBfXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGVmaW5lID0gKG5hbWUsIF9kZWZhdWx0KSA9PiB7XG5cdFx0XHR0aGlzW2BfJHtuYW1lfWBdID0gZGVmYXVsdFRvKG5hbWUsIF9kZWZhdWx0KVxuXHRcdH1cblxuXHRcdGNvbnN0IGRlZmF1bHRzID0ge1xuXHRcdFx0aW5jbHVkZUFtZGVmaW5lOiB0cnVlLFxuXHRcdFx0aW5jbHVkZVNvdXJjZU1hcDogdHJ1ZSxcblx0XHRcdGluY2x1ZGVNb2R1bGVOYW1lOiB0cnVlLFxuXHRcdFx0Zm9yY2VOb25MYXp5TW9kdWxlOiBmYWxzZSxcblx0XHRcdHVzZVN0cmljdDogdHJ1ZSxcblx0XHRcdGNoZWNrczogdHJ1ZSxcblx0XHRcdCd3YXJuLWFzLWVycm9yJzogZmFsc2UsXG5cdFx0XHR1c2VCb290OiB0cnVlLFxuXHRcdFx0bXNsUGF0aDogJ21zbCcsXG5cdFx0fVxuXHRcdGZvciAoY29uc3QgXyBpbiBkZWZhdWx0cylcblx0XHRcdGRlZmluZShfLCBkZWZhdWx0c1tfXSlcblxuXHRcdHRoaXMuX2luRmlsZSA9IG9wdHMuaW5GaWxlXG5cblx0XHRpZiAodGhpcy5faW5GaWxlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICh0aGlzLl9pbmNsdWRlU291cmNlTWFwKVxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VpdGhlciBzdXBwbHkgYGluRmlsZWAgb3B0aW9uIG9yIG1ha2UgYGluY2x1ZGVTb3VyY2VNYXBgIGZhbHNlLicpXG5cdFx0XHRpZiAodGhpcy5faW5jbHVkZU1vZHVsZU5hbWUpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRWl0aGVyIHN1cHBseSBgaW5GaWxlYCBvcHRpb24gb3IgbWFrZSBgaW5jbHVkZU1vZHVsZU5hbWVgIGZhbHNlLicpXG5cdFx0fSBlbHNlXG5cdFx0XHR0eXBlKHRoaXMuX2luRmlsZSwgU3RyaW5nKVxuXG5cdFx0Y29uc3QgYnVpbHRpbnMgPSBvcHRzLmJ1aWx0aW5zIHx8IGRlZmF1bHRCdWlsdGlucyh0aGlzLl9tc2xQYXRoKVxuXHRcdHRoaXMuYnVpbHRpbk5hbWVUb1BhdGggPSBnZW5lcmF0ZUJ1aWx0aW5zTWFwKGJ1aWx0aW5zKVxuXHR9XG5cblx0bW9kdWxlTmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5faW5GaWxlID09PSB1bmRlZmluZWQgPyAnYW5vbnltb3VzJyA6IG5vRXh0KGJhc2VuYW1lKHRoaXMuX2luRmlsZSkpXG5cdH1cblxuXHRqc0Jhc2VOYW1lKCkgeyByZXR1cm4gYCR7dGhpcy5tb2R1bGVOYW1lKCl9LmpzYCB9XG5cdG1vZHVsZVBhdGgoKSB7IHJldHVybiB0aGlzLl9pbkZpbGUgfVxuXG5cdGluY2x1ZGVDaGVja3MoKSB7IHJldHVybiB0aGlzLl9jaGVja3MgfVxuXG5cdHdhcm5Bc0Vycm9yKCkgeyByZXR1cm4gdGhpc1snX3dhcm4tYXMtZXJyb3InXSB9XG5cblx0aW5jbHVkZUFtZGVmaW5lKCkgeyByZXR1cm4gdGhpcy5faW5jbHVkZUFtZGVmaW5lIH1cblx0aW5jbHVkZVNvdXJjZU1hcCgpIHsgcmV0dXJuIHRoaXMuX2luY2x1ZGVTb3VyY2VNYXAgfVxuXHRpbmNsdWRlTW9kdWxlTmFtZSgpIHsgcmV0dXJuIHRoaXMuX2luY2x1ZGVNb2R1bGVOYW1lIH1cblx0aW5jbHVkZVVzZVN0cmljdCgpIHsgcmV0dXJuIHRoaXMuX3VzZVN0cmljdCB9XG5cblx0bGF6eU1vZHVsZSgpIHsgcmV0dXJuICF0aGlzLl9mb3JjZU5vbkxhenlNb2R1bGUgfVxuXG5cdHVzZUJvb3QoKSB7IHJldHVybiB0aGlzLl91c2VCb290IH1cblx0Ym9vdFBhdGgoKSB7IHJldHVybiBgJHt0aGlzLl9tc2xQYXRofS9wcml2YXRlL2Jvb3RgIH1cbn1cblxuY29uc3Rcblx0YmFzZW5hbWUgPSBwYXRoID0+XG5cdFx0bGFzdChwYXRoLnNwbGl0KCcvJykpLFxuXHRleHRuYW1lID0gcGF0aCA9PlxuXHRcdGxhc3QocGF0aC5zcGxpdCgnLicpKSxcblx0bm9FeHQgPSBwYXRoID0+XG5cdFx0Ly8gLSAxIGZvciB0aGUgJy4nXG5cdFx0cGF0aC5zdWJzdHJpbmcoMCwgcGF0aC5sZW5ndGggLSAxIC0gZXh0bmFtZShwYXRoKS5sZW5ndGgpLFxuXHRkZWZhdWx0QnVpbHRpbnMgPSBtc2xQYXRoID0+IHtcblx0XHRjb25zdCBidWlsdGlucyA9IHtcblx0XHRcdGdsb2JhbDogWyAnQXJyYXknLCAnQm9vbGVhbicsICdFcnJvcicsICdGdW5jdGlvbicsICdNYXRoJywgJ051bWJlcicsICdPYmplY3QnLFxuXHRcdFx0XHQnUmVnRXhwJywgJ1N0cmluZycsICdTeW1ib2wnIF0sXG5cdFx0XHQnbXNsLkAuPyc6IFsgJ3VuLT8nIF0sXG5cdFx0XHQnbXNsLkAuQCc6IFsgJ18nLCAnLSEnLCAnYWxsPycsICdjb3VudCcsICdlbXB0eScsICdlbXB0eT8nLCAnZW1wdHkhJywgJ2l0ZXJhdG9yJyBdLFxuXHRcdFx0J21zbC5ALk1hcC5NYXAnOiBbICdfJywgJ2Fzc29jIScsICc/Z2V0JyBdLFxuXHRcdFx0J21zbC5ALlJhbmdlJzogWyAnXycgXSxcblx0XHRcdCdtc2wuQC5TZXEuU2VxJzogWyAnXycsICcrPiEnIF0sXG5cdFx0XHQnbXNsLkAuU2VxLlN0cmVhbSc6IFsgJ18nIF0sXG5cdFx0XHQnbXNsLkAuU2V0LlNldCc6IFsgJ18nIF0sXG5cdFx0XHQnbXNsLmNvbXBhcmUnOiBbICc9PycsICc8PycsICc8PT8nLCAnPj8nLCAnPj0/JywgJ21pbicsICdtYXgnIF0sXG5cdFx0XHQnbXNsLkdlbmVyYXRvcic6IFsgJ2dlbi1uZXh0IScgXSxcblx0XHRcdCdtc2wubWF0aC5tZXRob2RzJzogWyAnKycsICctJywgJyonLCAnLycgXSxcblx0XHRcdCdtc2wubWF0aC5OdW1iZXInOiBbICduZWcnIF0sXG5cdFx0XHQnbXNsLlR5cGUuS2luZCc6IFsgJ18nLCAna2luZCEnLCAnc2VsZi1raW5kIScgXSxcblx0XHRcdCdtc2wuVHlwZS5NZXRob2QnOiBbICdfJywgJ2ltcGwhJywgJ2ltcGwtZm9yJywgJ3NlbGYtaW1wbCEnIF0sXG5cdFx0XHQnbXNsLlR5cGUuVHlwZSc6IFsgJz0+JyBdXG5cdFx0fVxuXHRcdGlmIChtc2xQYXRoICE9PSAnbXNsJylcblx0XHRcdGZvciAobGV0IGtleSBpbiBidWlsdGlucykge1xuXHRcdFx0XHRjb25zdCB4ID0gYnVpbHRpbnNba2V5XVxuXHRcdFx0XHRkZWxldGUgYnVpbHRpbnNba2V5XVxuXHRcdFx0XHRidWlsdGluc1trZXkucmVwbGFjZSgvbXNsL2csIG1zbFBhdGgpXSA9IHhcblx0XHRcdH1cblx0XHRyZXR1cm4gYnVpbHRpbnNcblx0fSxcblx0Z2VuZXJhdGVCdWlsdGluc01hcCA9IGJ1aWx0aW5zID0+IHtcblx0XHRjb25zdCBtID0gbmV3IE1hcCgpXG5cdFx0Zm9yIChjb25zdCBwYXRoIGluIGJ1aWx0aW5zKSB7XG5cdFx0XHRjb25zdCByZWFsUGF0aCA9IHBhdGgucmVwbGFjZSgvXFwuL2csICcvJylcblx0XHRcdGZvciAobGV0IHVzZWQgb2YgYnVpbHRpbnNbcGF0aF0pIHtcblx0XHRcdFx0aWYgKHVzZWQgPT09ICdfJylcblx0XHRcdFx0XHR1c2VkID0gbGFzdChwYXRoLnNwbGl0KCcuJykpXG5cdFx0XHRcdGlmIChtLmhhcyh1c2VkKSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEJ1aWx0aW4gJHt1c2VkfSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlLmApXG5cdFx0XHRcdG0uc2V0KHVzZWQsIHJlYWxQYXRoKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbVxuXHR9XG4iXSwic291cmNlUm9vdCI6Ii9zcmMifQ==