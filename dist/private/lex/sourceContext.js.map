{"version":3,"sources":["private/lex/sourceContext.js"],"names":[],"mappings":"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","file":"private/lex/sourceContext.js","sourcesContent":["(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", 'esast/lib/Loc', './chars'], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Loc_1 = require('esast/lib/Loc');\n    var chars_1 = require('./chars');\n    function setupSourceContext(_sourceString) {\n        exports.sourceString = _sourceString;\n        exports.index = 0;\n        exports.line = Loc_1.Pos.start.line;\n        exports.column = Loc_1.Pos.start.column;\n    }\n    exports.setupSourceContext = setupSourceContext;\n    function pos() {\n        return new Loc_1.Pos(exports.line, exports.column);\n    }\n    exports.pos = pos;\n    function peek(n = 0) {\n        return exports.sourceString.charCodeAt(exports.index + n);\n    }\n    exports.peek = peek;\n    function eat() {\n        const char = exports.sourceString.charCodeAt(exports.index);\n        skip();\n        return char;\n    }\n    exports.eat = eat;\n    function skip(n = 1) {\n        exports.index = exports.index + n;\n        exports.column = exports.column + n;\n    }\n    exports.skip = skip;\n    function tryEat(charToEat) {\n        const canEat = peek() === charToEat;\n        if (canEat)\n            skip();\n        return canEat;\n    }\n    exports.tryEat = tryEat;\n    function tryEat2(char1, char2) {\n        const canEat = peek() === char1 && peek(1) === char2;\n        if (canEat)\n            skip(2);\n        return canEat;\n    }\n    exports.tryEat2 = tryEat2;\n    function tryEat3(char1, char2, char3) {\n        const canEat = peek() === char1 && peek(1) === char2 && peek(2) === char3;\n        if (canEat)\n            skip(3);\n        return canEat;\n    }\n    exports.tryEat3 = tryEat3;\n    function tryEatNewline() {\n        const canEat = peek() === chars_1.Char.Newline;\n        if (canEat) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n            exports.column = Loc_1.Pos.start.column;\n        }\n        return canEat;\n    }\n    exports.tryEatNewline = tryEatNewline;\n    function stepBackMany(oldPos, nCharsToBackUp) {\n        exports.index = exports.index - nCharsToBackUp;\n        exports.line = oldPos.line;\n        exports.column = oldPos.column;\n    }\n    exports.stepBackMany = stepBackMany;\n    function takeWhile(characterPredicate) {\n        return takeWhileWithStart(exports.index, characterPredicate);\n    }\n    exports.takeWhile = takeWhile;\n    function takeWhileWithPrev(characterPredicate) {\n        return takeWhileWithStart(exports.index - 1, characterPredicate);\n    }\n    exports.takeWhileWithPrev = takeWhileWithPrev;\n    function takeWhileWithStart(startIndex, characterPredicate) {\n        skipWhile(characterPredicate);\n        return exports.sourceString.slice(startIndex, exports.index);\n    }\n    function skipWhileEquals(char) {\n        return skipWhile(_ => _ === char);\n    }\n    exports.skipWhileEquals = skipWhileEquals;\n    function skipRestOfLine() {\n        return skipWhile(_ => _ !== chars_1.Char.Newline);\n    }\n    exports.skipRestOfLine = skipRestOfLine;\n    function eatRestOfLine() {\n        return takeWhile(_ => _ !== chars_1.Char.Newline);\n    }\n    exports.eatRestOfLine = eatRestOfLine;\n    function skipWhile(characterPredicate) {\n        const startIndex = exports.index;\n        while (characterPredicate(peek()))\n            exports.index = exports.index + 1;\n        const diff = exports.index - startIndex;\n        exports.column = exports.column + diff;\n        return diff;\n    }\n    exports.skipWhile = skipWhile;\n    function skipNewlines() {\n        const startLine = exports.line;\n        exports.line = exports.line + 1;\n        while (peek() === chars_1.Char.Newline) {\n            exports.index = exports.index + 1;\n            exports.line = exports.line + 1;\n        }\n        exports.column = Loc_1.Pos.start.column;\n        return exports.line - startLine;\n    }\n    exports.skipNewlines = skipNewlines;\n});\n"],"sourceRoot":"/source/"}